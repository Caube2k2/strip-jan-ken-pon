(this["webpackJsonpstrip-janken"]=this["webpackJsonpstrip-janken"]||[]).push([[0],{14:function(e,n,t){e.exports=t(22)},19:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var a,r,c,i,o=t(0),s=t.n(o),u=t(9),l=t.n(u),E=(t(19),t(13)),m=t(3),h=t(4);!function(e){e[e.CHOICE=0]="CHOICE",e[e.RESULT=1]="RESULT",e[e.STRIP_VIDEO=2]="STRIP_VIDEO",e[e.GAME_OVER_LOSE=3]="GAME_OVER_LOSE",e[e.GAME_OVER_WIN=4]="GAME_OVER_WIN"}(a||(a={})),function(e){e[e.ROCK=0]="ROCK",e[e.PAPER=1]="PAPER",e[e.SCISSOR=2]="SCISSOR"}(r||(r={})),function(e){e[e.WIN=0]="WIN",e[e.LOSE=1]="LOSE",e[e.DRAW=2]="DRAW"}(c||(c={})),function(e){e[e.CHOICE=0]="CHOICE",e[e.CALCULATE=1]="CALCULATE",e[e.NEXT_ROUND=2]="NEXT_ROUND",e[e.RESTART=3]="RESTART"}(i||(i={}));var p={heart:4,clothes:4,screen:a.CHOICE,videoNumber:4},f={state:p,dispatch:function(){}},v=s.a.createContext(f),O=t(1),d=t(2);function b(){var e=Object(O.a)(["\n    width: ","px;\n    height: ","px;\n    transform: rotate(","deg);\n"]);return b=function(){return e},e}var R=d.a.img(b(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.rotate})),C=function(e){var n=e.choice,t=e.size,a=void 0===t?120:t;switch(n){case r.ROCK:return s.a.createElement(R,{rotate:-15,size:a,alt:"rock",src:"/images/icons/rock.png"});case r.SCISSOR:return s.a.createElement(R,{rotate:-80,size:a,alt:"paper",src:"/images/icons/scissor.png"});case r.PAPER:return s.a.createElement(R,{rotate:15,size:a,alt:"scissor",src:"/images/icons/paper.png"})}};function g(){var e=Object(O.a)(["\n    opacity: 0.8;\n    cursor: pointer;\n    background-color: transparent;\n    border: none;\n    transition: all 0.5s;\n\n    &:hover {\n        opacity: 1;\n        transform: translateY(-10px) scale(1.2);\n    }\n"]);return g=function(){return e},e}function S(){var e=Object(O.a)(["\n    position: absolute;\n    width: 100vw;\n    bottom: 10vh;\n    text-align: center;\n"]);return S=function(){return e},e}function N(){var e=Object(O.a)(["\n    position: relative;\n    height: 100vh;\n    /* background-image: url('/images/bg.jpg'); */\n"]);return N=function(){return e},e}var A=d.a.div(N()),I=d.a.div(S()),y=d.a.button(g()),j=function(){var e=s.a.useContext(v).dispatch,n=s.a.useCallback((function(n){e({type:i.CHOICE,choice:n})}),[e]);return s.a.createElement(A,null,s.a.createElement(I,null,[r.ROCK,r.SCISSOR,r.PAPER].map((function(e){return s.a.createElement(y,{key:e,onClick:function(){return n(e)}},s.a.createElement(C,{choice:e}))}))))};function T(){var e=Object(O.a)(["\n    margin-bottom: 32px;\n"]);return T=function(){return e},e}function x(){var e=Object(O.a)(["\n    margin: 20px;\n    font-size: 44px;\n"]);return x=function(){return e},e}function _(){var e=Object(O.a)(["\n    transform: rotate(180deg);\n"]);return _=function(){return e},e}function w(){var e=Object(O.a)(["\n    height: 100vh;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n"]);return w=function(){return e},e}var L=d.a.div(w()),k=d.a.div(_()),W=d.a.div(x()),V=d.a.div(T()),D=function(){var e=s.a.useContext(v),n=e.state,t=e.dispatch,a=n.botChoice,r=n.playerChoice,o=n.matchResult,u=s.a.useCallback((function(){return t({type:i.CALCULATE})}),[t]),l=s.a.createElement("span",null);switch(o){case c.WIN:l=s.a.createElement("span",{className:"nes-text is-success"}," Th\u1eafng r\u1ed3i ahihi!!");break;case c.DRAW:l=s.a.createElement("span",{className:"nes-text is-primary"}," Ho\xe0");break;case c.LOSE:l=s.a.createElement("span",{className:"nes-text is-error"}," Thua r\xf9i l\xeau l\xeau!!")}return s.a.createElement(L,null,s.a.createElement(k,null,s.a.createElement(C,{size:240,choice:a})),s.a.createElement(W,null,l),s.a.createElement(V,null,s.a.createElement(C,{size:240,choice:r})),s.a.createElement("button",{onClick:u,type:"button",className:"nes-btn is-primary"},"Ti\u1ebfp t\u1ee5c"))};function P(){var e=Object(O.a)(["\n    position: absolute;\n    width: 100vw;\n    bottom: 10vh;\n    text-align: center;\n"]);return P=function(){return e},e}var U=d.a.div(P()),M=function(){var e=s.a.useContext(v).dispatch,n=s.a.useCallback((function(){e({type:i.NEXT_ROUND})}),[e]);return s.a.createElement(U,null,s.a.createElement("button",{type:"button",className:"nes-btn is-primary",onClick:n},"Skip, h\xf4ng th\xe8m coi"))};function z(){var e=Object(O.a)(["\n    display: flex;\n    height: 100vh;\n    align-items: center;\n    justify-content: center;\n"]);return z=function(){return e},e}var H=d.a.div(z()),G=function(e){var n=e.screen,t=s.a.useContext(v).dispatch;return s.a.createElement(H,null,s.a.createElement("section",{className:"message-list"},s.a.createElement("section",{className:"message -left"},s.a.createElement("i",{className:"nes-octocat animate"}),s.a.createElement("div",{className:"nes-balloon from-left"},n===a.GAME_OVER_WIN&&s.a.createElement("p",null,"Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 chi\u1ebfn th\u1eafng ahihi!"),n===a.GAME_OVER_LOSE&&s.a.createElement("p",null,"Thua r\u1ed3i, nh\u1ee5c qu\xe1, ch\u01a1i l\u1ea1i \u0111i hihi!"),s.a.createElement("button",{type:"button",className:"nes-btn is-primary",onClick:function(){t({type:i.RESTART})}},"Ch\u01a1i l\u1ea1i")))))};function K(){var e=Object(O.a)(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    opacity: 0.75;\n    object-fit: cover;\n    z-index: -1;\n"]);return K=function(){return e},e}var X=d.a.video(K()),B=function(e){var n=e.play,t=e.videoNumber,a=e.onVideoEnded,r=s.a.useRef(null);return s.a.useEffect((function(){var e=r.current;return e&&(e.currentTime=0,n&&e.play()),function(){e&&e.pause()}}),[n,r]),s.a.createElement(X,{key:t,ref:r,poster:"/images/preview_".concat(t,".jpg"),onEnded:a,preload:"auto"},s.a.createElement("source",{src:"/videos/".concat(t,".mp4"),type:"video/mp4"}))};function J(){var e=Object(O.a)(["\n    z-index: 1;\n    position: absolute;\n    top: 5px;\n    right: 5px;\n\n    .clothes {\n        width: 60px;\n        height: 60px;\n    }\n"]);return J=function(){return e},e}function q(){var e=Object(O.a)(["\n    z-index: 1;\n    position: absolute;\n    top: 5px;\n    left: 5px;\n\n    .heart {\n        width: 55px;\n        height: 55px;\n    }\n"]);return q=function(){return e},e}function Y(){var e=Object(O.a)(["\n    position: relative;\n    height: 100vh;\n"]);return Y=function(){return e},e}var $,F=d.a.div(Y()),Q=d.a.div(q()),Z=d.a.div(J()),ee=($={},Object(h.a)($,c.WIN,new Audio("/sounds/win.mp3")),Object(h.a)($,c.DRAW,new Audio("/sounds/draw.mp3")),Object(h.a)($,c.LOSE,new Audio("/sounds/lose.mp3")),$);function ne(e,n){switch(n.type){case i.RESTART:return p;case i.NEXT_ROUND:return 0===e.clothes?Object(m.a)({},e,{screen:a.GAME_OVER_WIN}):Object(m.a)({},e,{videoNumber:e.clothes,screen:a.CHOICE});case i.CHOICE:var t=n.choice,o=function(){var e=[r.PAPER,r.ROCK,r.SCISSOR];return e[Math.floor(Math.random()*e.length)]}(),s=function(e,n){return e===n?c.DRAW:e-n===1||e-n===-2?c.WIN:c.LOSE}(t,o),u=ee[s];return u&&u.play(),Object(m.a)({},e,{playerChoice:t,botChoice:o,matchResult:s,screen:a.RESULT});case i.CALCULATE:if(e.screen!==a.RESULT)return e;switch(e.matchResult){case c.WIN:var l=e.clothes-1;return Object(m.a)({},e,{clothes:l,screen:a.STRIP_VIDEO});case c.LOSE:var E=e.heart-1;return 0===E?Object(m.a)({},e,{heart:E,screen:a.GAME_OVER_LOSE}):Object(m.a)({},e,{heart:E,screen:a.CHOICE});case c.DRAW:return Object(m.a)({},e,{screen:a.CHOICE})}}return e}var te=function(){var e=s.a.useReducer(ne,p),n=Object(E.a)(e,2),t=n[0],r=n[1],c={state:t,dispatch:r},o=s.a.createElement("img",{className:"clothes",alt:"clothes",src:"/images/icons/clothes.png"}),u=new Array(t.clothes);u.fill(o);var l=s.a.createElement("img",{alt:"heart",className:"heart",src:"/images/icons/heart.png"}),m=s.a.createElement("img",{alt:"empty-heart",className:"heart",src:"/images/icons/heart-empty.png"}),h=new Array(p.heart);return h.fill(l,0,t.heart),h.fill(m,t.heart),s.a.createElement(v.Provider,{value:c},s.a.createElement(F,null,s.a.createElement(Z,null,u),s.a.createElement(Q,null,h),s.a.createElement(B,{play:t.screen===a.STRIP_VIDEO,videoNumber:t.videoNumber,onVideoEnded:function(){return r({type:i.NEXT_ROUND})}}),t.screen===a.CHOICE&&s.a.createElement(j,null),t.screen===a.RESULT&&s.a.createElement(D,null),t.screen===a.STRIP_VIDEO&&s.a.createElement(M,null),t.screen===a.GAME_OVER_WIN&&s.a.createElement(G,{screen:t.screen}),t.screen===a.GAME_OVER_LOSE&&s.a.createElement(G,{screen:t.screen})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.cca2c40a.chunk.js.map